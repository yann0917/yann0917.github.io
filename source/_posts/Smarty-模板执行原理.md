---
title: Smarty 模板执行原理
tags:
  - Smarty
  - PHP
categories: PHP
abbrlink: 64341
date: 2017-05-02 23:28:05
---
### Smarty 模板是什么
smarty 模板主要是为了实现业务逻辑与内容表现页的分离，<span style="color:#22b14c">其核心是将模板文件中的标签，替换成对应的php代码</span>，特点如下：
- 相对速度快，因为第二次执行的时候使用的是第一次生成的编译文件；
- 缓存技术，将用户看到的页面缓存成一个静态HTML，所以更适合那些对实时性要求不高的场合；
- 插件技术，可以作为其他框架的插件使用；


### Smarty 模板执行原理
1. smarty 将源文件编译成中间文件；
2. 如果启用了缓存，则根据编译文件生成缓存文件；
3. 之后用户的每次访问都会直接访问编译文件，而不是模板文件；
4. 如果启用了缓存，而且有缓存文件并且缓存文件没有过期，则直接访问缓存文件；
5. 如果模板文件被修改过，则重新编译，因为编译文件中时间戳记录了模板文件的修改时间，可以检测到。

---